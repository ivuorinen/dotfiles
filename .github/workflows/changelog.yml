---
name: Debug Changelog # Workflow name displayed on GitHub

on:
  workflow_dispatch: # Trigger manually

jobs:
  create-debug-changelog:
    runs-on: ubuntu-latest
    outputs:
      date: ${{ steps.day.outputs.now }}
    steps:
      - uses: actions/checkout@v3

      - id: day
        run: echo "now=$(date +'%Y.%-m.%-d')" >> "$GITHUB_OUTPUT"

      - name: Conventional Changelog Action
        id: changelog
        uses: TriPSs/conventional-changelog-action@v3
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          skip-git-pull: "true"
          skip-on-empty: "false"
          skip-commit: "true"
          skip-tag: "true"
          skip-version-file: "true"
          create-summary: "true"
          output-file: "false"
          tag-prefix: ""
          git-push: "false"
          release-count: "0"
          fallback-version: "${{ steps.day.outputs.date }}"
          git-message: "chore(release): {version}"
          git-user-name: "${{ github.actor }}"
          git-user-email: "${{ github.actor }}@users.noreply.github.com"
