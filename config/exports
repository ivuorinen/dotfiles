#!/usr/bin/env bash
# shellcheck shell=zsh
# vim: filetype=zsh

export DOTFILES="$HOME/.dotfiles"
export PATH="$DOTFILES/local/bin:$PATH"

# Explicitly set XDG folders
# https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"

# custom variables
export XDG_BIN_HOME="$HOME/.local/bin"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_RUNTIME_DIR="$HOME/.local/run"

# Homebrew configuration
export HOMEBREW="/opt/homebrew"
export HOMEBREW_BIN="$HOMEBREW/bin"
export HOMEBREW_SBIN="$HOMEBREW/sbin"
export HOMEBREW_PKG="$HOMEBREW/opt"
export HOMEBREW_NO_ENV_HINTS=1

export PATH="$XDG_BIN_HOME:$HOMEBREW_BIN:$HOMEBREW_SBIN:/usr/local/sbin:$PATH"

# brew, https://brew.sh
if command -v brew &> /dev/null; then
  BREW_PYTHON=$(brew --prefix python)/bin
  GNUBIN_DIR=$(brew --prefix coreutils)/libexec/gnubin
  BREW_RUBY=$(brew --prefix ruby)/bin
  BREW_GEMS=$(gem environment gemdir)/bin

  export PATH="$BREW_PYTHON:$GNUBIN_DIR:$BREW_GEMS:$BREW_RUBY:$PATH"
fi

source "$DOTFILES/config/exports-shell"
source "$DOTFILES/config/exports-apps"

if command -v nvim &> /dev/null; then
  export EDITOR="nvim"
fi
