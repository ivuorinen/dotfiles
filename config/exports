#!/usr/bin/env bash
# shellcheck shell=zsh
# vim: filetype=zsh

export DOTFILES="$HOME/.dotfiles"
source "$DOTFILES/scripts/shared.sh"
path_append "$DOTFILES/local/bin"

# Explicitly set XDG folders
# https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"

# custom variables
export XDG_BIN_HOME="$HOME/.local/bin"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_RUNTIME_DIR="$HOME/.local/run"

eval "$(brew shellenv)"

export HOMEBREW_PREFIX="$XDG_STATE_HOME/homebrew"

export HOMEBREW_BIN="$HOMEBREW_PREFIX/bin"
export HOMEBREW_PKG="$HOMEBREW_PREFIX/opt"
export HOMEBREW_SBIN="$HOMEBREW_PREFIX/sbin"

path_append "/usr/local/bin"
path_prepend "$XDG_BIN_HOME"

# brew, https://brew.sh
have brew && {
  have_brew python && path_append "$(brew --prefix python)/bin"
}

source "$DOTFILES/config/exports-shell"
source "$DOTFILES/config/exports-apps"

have nvim && export EDITOR="nvim"
